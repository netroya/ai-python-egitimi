class AdSenseOptimizer { constructor() { this.adUnits = []; this.viewabilityThreshold = 0.5; this.init(); } init() { this.trackAdPerformance(); this.optimizeAdPlacements(); this.setupLazyLoading(); this.trackUserEngagement(); } trackAdPerformance() { const ads = document.querySelectorAll('.adsbygoogle'); ads.forEach((ad, index) => { const observer = new IntersectionObserver((entries) => { entries.forEach(entry => { if (entry.isIntersecting) { gtag('event', 'ad_impression', { 'custom_parameter': `ad_unit_${index}` }); } }); }, { threshold: this.viewabilityThreshold }); observer.observe(ad); }); } optimizeAdPlacements() { const scrollPosition = () => { const scrollPercent = (window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100; if (scrollPercent > 25 && !this.midContentAdShown) { this.showMidContentAd(); this.midContentAdShown = true; } if (scrollPercent > 75 && !this.exitIntentAdShown) { this.prepareExitIntentAd(); this.exitIntentAdShown = true; } }; window.addEventListener('scroll', scrollPosition); } setupLazyLoading() { const lazyAds = document.querySelectorAll('.adsbygoogle[data-lazy]'); const adObserver = new IntersectionObserver((entries) => { entries.forEach(entry => { if (entry.isIntersecting) { const ad = entry.target; ad.removeAttribute('data-lazy'); (adsbygoogle = window.adsbygoogle || []).push({}); adObserver.unobserve(ad); } }); }); lazyAds.forEach(ad => adObserver.observe(ad)); } trackUserEngagement() { let engagementScore = 0; let timeOnSite = 0; const startTime = Date.now(); setInterval(() => { timeOnSite = Math.floor((Date.now() - startTime) / 1000); if (timeOnSite > 30) engagementScore += 1; if (timeOnSite > 120) engagementScore += 2; if (timeOnSite > 300) engagementScore += 3; }, 10000); ['click', 'scroll', 'keydown'].forEach(event => { document.addEventListener(event, () => { engagementScore += 0.1; }); }); window.addEventListener('beforeunload', () => { gtag('event', 'user_engagement', { 'engagement_score': engagementScore, 'time_on_site': timeOnSite }); }); } showMidContentAd() { const contentSections = document.querySelectorAll('.content-section'); if (contentSections.length > 2) { const midSection = contentSections[Math.floor(contentSections.length / 2)]; const adDiv = document.createElement('div'); adDiv.className = 'ad-zone-content dynamic-ad'; adDiv.innerHTML = ` <script async src="https: <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5994338311" data-ad-slot="DYNAMIC-AD-SLOT" data-ad-format="auto"></ins> <script>(adsbygoogle = window.adsbygoogle || []).push({});</script> `; midSection.appendChild(adDiv); } } prepareExitIntentAd() { document.addEventListener('mouseout', (e) => { if (e.clientY < 0) { this.showExitIntentAd(); } }); } showExitIntentAd() { if (this.exitAdShown) return; this.exitAdShown = true; const overlay = document.createElement('div'); overlay.style.cssText = ` position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 10000; display: flex; align-items: center; justify-content: center; `; const adContainer = document.createElement('div'); adContainer.style.cssText = ` background: white; padding: 20px; border-radius: 10px; max-width: 500px; text-align: center; `; adContainer.innerHTML = ` <h3>Bir Dakika!</h3> <p>Python öğrenmeye devam etmek istemez misiniz?</p> <script async src="https: <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5994338311" data-ad-slot="EXIT-INTENT-AD-SLOT" data-ad-format="auto"></ins> <script>(adsbygoogle = window.adsbygoogle || []).push({});</script> <button onclick="this.parentElement.parentElement.remove()" style="margin-top: 15px; padding: 10px 20px; background: #ccc; border: none; border-radius: 5px; cursor: pointer;"> Kapat </button> `; overlay.appendChild(adContainer); document.body.appendChild(overlay); setTimeout(() => { if (overlay.parentElement) { overlay.remove(); } }, 10000); } } document.addEventListener('DOMContentLoaded', () => { new AdSenseOptimizer(); }); const highCPCKeywords = [ 'python öğrenme', 'yapay zeka eğitimi', 'programlama kursu', 'makine öğrenmesi', 'ai eğitimi', 'sertifika programı', 'online kurs', 'yazılım geliştirme', 'data science' ]; const addKeywordTargeting = () => { const meta = document.createElement('meta'); meta.name = 'google-adsense-platform-account'; meta.content = 'ca-host-pub-5994338311'; document.head.appendChild(meta); }; addKeywordTargeting();