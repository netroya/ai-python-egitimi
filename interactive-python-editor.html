<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interaktif Python Editörü | AI Python Eğitimi</title>
    <meta name="description" content="Tarayıcınızda Python kodlarını çalıştırın, test edin ve öğrenin. Ücretsiz interaktif Python editörü.">
    <meta name="keywords" content="python editör, online python, kod çalıştır, python öğren, interaktif programlama">
    <link rel="stylesheet" href="premium-styles.css">
    <link rel="stylesheet" href="blog-enhancement.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Fira+Code:wght@300;400;500&display=swap" rel="stylesheet">
    
    <!-- AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9023802833968711" crossorigin="anonymous"></script>
    
    <!-- CodeMirror CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/monokai.min.css">
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-40X5D8K6WH"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-40X5D8K6WH');
    </script>

    <style>
        .editor-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .editor-header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 40px 20px;
            text-align: center;
            border-radius: 16px 16px 0 0;
        }
        
        .editor-main {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0;
            background: var(--card-bg);
            border-radius: 0 0 16px 16px;
            overflow: hidden;
            box-shadow: var(--shadow-lg);
        }
        
        .code-panel, .output-panel {
            padding: 0;
            height: 500px;
            display: flex;
            flex-direction: column;
        }
        
        .panel-header {
            background: var(--secondary-bg);
            padding: 15px 20px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .panel-title {
            font-weight: 600;
            color: var(--text);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .code-editor {
            flex: 1;
            font-family: 'Fira Code', monospace;
        }
        
        .output-content {
            flex: 1;
            padding: 20px;
            background: var(--code-bg);
            color: var(--terminal-text);
            font-family: 'Fira Code', monospace;
            overflow-y: auto;
            white-space: pre-wrap;
        }
        
        .run-button {
            background: var(--success);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .run-button:hover {
            background: #059669;
            transform: translateY(-1px);
        }
        
        .run-button:disabled {
            background: #6b7280;
            cursor: not-allowed;
            transform: none;
        }
        
        .examples-section {
            margin: 40px 0;
            padding: 30px;
            background: var(--secondary-bg);
            border-radius: 16px;
        }
        
        .example-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
        }
        
        .example-btn {
            background: var(--card-bg);
            border: 2px solid var(--primary);
            color: var(--primary);
            padding: 10px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .example-btn:hover {
            background: var(--primary);
            color: white;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }
        
        .feature-card {
            background: var(--card-bg);
            padding: 25px;
            border-radius: 12px;
            box-shadow: var(--shadow);
            text-align: center;
            transition: transform 0.3s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
        }
        
        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }
        
        .loading {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid #f3f3f3;
            border-top: 2px solid var(--success);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @media (max-width: 768px) {
            .editor-main {
                grid-template-columns: 1fr;
            }
            
            .code-panel, .output-panel {
                height: 400px;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">🐍 AI Python</a>
            <div class="nav-menu">
                <a href="python-kursu.html" class="nav-link">Python Kursu</a>
                <a href="python-tutorial.html" class="nav-link">Tutorial</a>
                <a href="python-projeleri.html" class="nav-link">Projeler</a>
                <a href="python-problemleri.html" class="nav-link">Problem Çözümleri</a>
                <a href="yapay-zeka-rehberi.html" class="nav-link">AI Rehberi</a>
                <a href="veri-analizi.html" class="nav-link">Veri Analizi</a>
                <a href="interactive-python-editor.html" class="nav-link active">Kod Editörü</a>
                <a href="blog/index.html" class="nav-link">Blog</a>
                <button id="darkModeToggle" class="dark-mode-toggle" aria-label="Toggle dark mode">
                    <span class="sun-icon">☀️</span>
                    <span class="moon-icon">🌙</span>
                </button>
            </div>
            <div class="nav-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <main class="editor-container">
        <header class="editor-header">
            <h1>🚀 Interaktif Python Editörü</h1>
            <p>Tarayıcınızda Python kodlarını yazın, çalıştırın ve öğrenin!</p>
        </header>

        <div class="editor-main">
            <div class="code-panel">
                <div class="panel-header">
                    <div class="panel-title">
                        💻 Python Kodu
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <button onclick="saveCode()" style="background: #6366f1; color: white; border: none; padding: 6px 12px; border-radius: 4px; cursor: pointer; font-size: 12px;">
                            💾 Kaydet
                        </button>
                        <button onclick="loadCode()" style="background: #8b5cf6; color: white; border: none; padding: 6px 12px; border-radius: 4px; cursor: pointer; font-size: 12px;">
                            📁 Yükle
                        </button>
                        <button id="runButton" class="run-button" onclick="runPythonCode()">
                            ▶️ Çalıştır
                        </button>
                    </div>
                </div>
                <textarea id="codeEditor" class="code-editor"># 🐍 AI Python Eğitimi - İnteraktif Kod Editörü
print("Merhaba Python Dünyası! 🐍")
print("=" * 40)

# Basit matematik işlemleri
x, y = 15, 25
print(f"x = {x}, y = {y}")
print(f"Toplama: {x} + {y} = {x + y}")
print(f"Çıkarma: {x} - {y} = {x - y}")
print(f"Çarpma: {x} * {y} = {x * y}")
print(f"Bölme: {x} / {y} = {x / y:.2f}")

# Liste işlemleri
print("\n📋 Liste İşlemleri:")
sayilar = [1, 3, 5, 7, 9]
print(f"Sayılar: {sayilar}")
print(f"Toplam: {sum(sayilar)}")
print(f"En büyük: {max(sayilar)}")
print(f"En küçük: {min(sayilar)}")

# Döngü örneği  
print("\n🔄 Döngü Örneği:")
for i in range(1, 6):
    print(f"⭐ {i}. yıldız")
    
print("\n✅ Kod başarıyla tamamlandı!")
print("💡 Kendi kodlarınızı yazıp test edebilirsiniz!")</textarea>
            </div>
            
            <div class="output-panel">
                <div class="panel-header">
                    <div class="panel-title">
                        📄 Çıktı
                    </div>
                    <button onclick="clearOutput()" style="background: #dc3545; color: white; border: none; padding: 6px 12px; border-radius: 4px; cursor: pointer;">
                        🗑️ Temizle
                    </button>
                </div>
                <div id="output" class="output-content">Kod çıktısı burada görünecek...

💡 İpucu: Sol panelde Python kodunuzu yazın ve "Çalıştır" butonuna tıklayın!</div>
            </div>
        </div>

        <!-- Örnek Kodlar -->
        <section class="examples-section">
            <h2>📚 Örnek Kodlar</h2>
            <p>Aşağıdaki örnekleri tıklayarak editöre yükleyebilir ve çalıştırabilirsiniz:</p>
            
            <div class="example-buttons">
                <button class="example-btn" onclick="loadExample('basic')">🎯 Temel Python</button>
                <button class="example-btn" onclick="loadExample('functions')">🔧 Fonksiyonlar</button>
                <button class="example-btn" onclick="loadExample('lists')">📋 Listeler</button>
                <button class="example-btn" onclick="loadExample('loops')">🔄 Döngüler</button>
                <button class="example-btn" onclick="loadExample('classes')">🏗️ Sınıflar</button>
                <button class="example-btn" onclick="loadExample('data')">📊 Veri İşleme</button>
            </div>
        </section>

        <!-- Özellikler -->
        <section class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">⚡</div>
                <h3>Anında Çalıştırma</h3>
                <p>Python kodlarınızı tarayıcınızda anında çalıştırın, herhangi bir kurulum gerektirmez.</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">🎨</div>
                <h3>Syntax Highlighting</h3>
                <p>Kod yazımını kolaylaştıran renk kodlaması ve otomatik tamamlama özellikleri.</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">📱</div>
                <h3>Mobil Uyumlu</h3>
                <p>Telefon ve tabletle de rahatlıkla Python kodu yazabilir ve çalıştırabilirsiniz.</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">📚</div>
                <h3>Örnek Kodlar</h3>
                <p>Hazır örneklerle Python öğrenme sürecinizi hızlandırın ve pratik yapın.</p>
            </div>
        </section>
    </main>

    <!-- CodeMirror JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js" 
            onerror="this.onerror=null; this.src='https://unpkg.com/codemirror@5.65.2/lib/codemirror.js'"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/python/python.min.js"
            onerror="this.onerror=null; this.src='https://unpkg.com/codemirror@5.65.2/mode/python/python.js'"></script>

    <!-- Pyodide for Python execution -->
    <script src="https://cdn.jsdelivr.net/pyodide/v0.25.1/full/pyodide.js"
            onerror="console.error('Pyodide yüklenemedi:', this.src)"></script>

    <script>
        let pyodide = null;
        let editor = null;
        
        // Dark mode functionality
        const darkModeToggle = document.getElementById('darkModeToggle');
        const body = document.body;
        
        // Check for saved theme preference or default to 'light'
        const currentTheme = localStorage.getItem('theme') || 'light';
        body.classList.add(currentTheme + '-theme');
        
        darkModeToggle.addEventListener('click', () => {
            if (body.classList.contains('dark-theme')) {
                body.classList.replace('dark-theme', 'light-theme');
                localStorage.setItem('theme', 'light');
            } else {
                body.classList.replace('light-theme', 'dark-theme');
                localStorage.setItem('theme', 'dark');
            }
        });
        
        // Initialize CodeMirror
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🚀 Kod editörü yükleniyor...');
            
            const textarea = document.getElementById('codeEditor');
            if (!textarea) {
                console.error('❌ Textarea element bulunamadı!');
                return;
            }
            
            // CodeMirror yüklü mü kontrol et
            if (typeof CodeMirror === 'undefined') {
                console.error('❌ CodeMirror yüklenemedi!');
                document.getElementById('output').textContent = '❌ Kod editörü yüklenemedi. Sayfayı yenileyin.';
                return;
            }
            
            try {
                editor = CodeMirror.fromTextArea(textarea, {
                    mode: 'python',
                    theme: 'monokai',
                    lineNumbers: true,
                    autoCloseBrackets: true,
                    matchBrackets: true,
                    indentUnit: 4,
                    lineWrapping: true,
                    fontSize: '14px'
                });
                
                console.log('✅ CodeMirror başarıyla yüklendi');
                
                // Editör hazır olduğunu bildiren event
                setTimeout(() => {
                    if (editor && document.getElementById('output')) {
                        document.getElementById('output').textContent = '📝 Kod editörü hazır!\n\nPython ortamı yükleniyor... ⏳';
                    }
                }, 500);
                
            } catch (error) {
                console.error('❌ CodeMirror başlatma hatası:', error);
                document.getElementById('output').textContent = '❌ Kod editörü başlatılamadı: ' + error.message;
            }
            
            // Initialize Pyodide
            initializePyodide();
        });
        
        async function initializePyodide() {
            try {
                document.getElementById('output').textContent = 'Python ortamı yükleniyor... ⏳\n\nBu işlem birkaç saniye sürebilir, lütfen bekleyin.';
                
                // Pyodide'ı yükle
                pyodide = await loadPyodide({
                    indexURL: "https://cdn.jsdelivr.net/pyodide/v0.25.1/full/"
                });
                
                // Temel kütüphaneleri yükle
                await pyodide.loadPackage(['micropip']);
                
                document.getElementById('output').textContent = '✅ Python ortamı hazır! Kodunuzu yazıp çalıştırabilirsiniz.\n\n💡 İpucu: print() fonksiyonuyla çıktı üretebilirsiniz.\n\n📦 Mevcut kütüphaneler: math, random, datetime, json ve daha fazlası!';
            } catch (error) {
                console.error('Pyodide initialization error:', error);
                document.getElementById('output').textContent = `❌ Python ortamı yüklenirken hata oluştu: ${error.message}\n\n🔧 Çözüm önerileri:\n• Sayfayı yenileyin (F5)\n• İnternet bağlantınızı kontrol edin\n• Farklı bir tarayıcı deneyin`;
            }
        }
        
        async function runPythonCode() {
            if (!pyodide) {
                document.getElementById('output').textContent = '⏳ Python ortamı henüz hazır değil, lütfen bekleyin...';
                return;
            }
            
            const button = document.getElementById('runButton');
            const originalText = button.innerHTML;
            
            try {
                // Button durumunu değiştir
                button.innerHTML = '<div class="loading"></div> Çalışıyor...';
                button.disabled = true;
                
                // Kodu al
                const code = editor.getValue();
                
                if (!code.trim()) {
                    document.getElementById('output').textContent = '⚠️ Çalıştırılacak kod bulunamadı!';
                    return;
                }
                
                // Output'u temizle
                document.getElementById('output').textContent = '';
                
                // Python kodunu çalıştır
                let output = '';
                
                // Pyodide'da stdout'u yakalama
                pyodide.runPython(`
import sys
from io import StringIO

# stdout ve stderr'ı yakalama
old_stdout = sys.stdout
old_stderr = sys.stderr
sys.stdout = StringIO()
sys.stderr = StringIO()
`);
                
                try {
                    // Kullanıcı kodunu çalıştır
                    pyodide.runPython(code);
                    
                    // Çıktıları al
                    const stdout = pyodide.runPython('sys.stdout.getvalue()');
                    const stderr = pyodide.runPython('sys.stderr.getvalue()');
                    
                    if (stdout) {
                        output = stdout;
                    }
                    
                    if (stderr) {
                        output += (output ? '\n\n' : '') + `❌ Hatalar:\n${stderr}`;
                    }
                    
                    if (!output) {
                        output = '✅ Kod başarıyla çalıştırıldı (çıktı yok)';
                    }
                    
                } catch (pythonError) {
                    output = handlePythonError(pythonError);
                } finally {
                    // stdout ve stderr'ı geri yükle
                    pyodide.runPython(`
sys.stdout = old_stdout
sys.stderr = old_stderr
`);
                }
                
                document.getElementById('output').textContent = output || '✅ Kod başarıyla çalıştırıldı (çıktı yok)';
                
            } catch (error) {
                document.getElementById('output').textContent = `❌ Sistem Hatası: ${error.message}`;
            } finally {
                // Button'u eski haline getir
                button.innerHTML = originalText;
                button.disabled = false;
            }
        }
        
        function clearOutput() {
            const outputElement = document.getElementById('output');
            if (outputElement) {
                outputElement.textContent = 'Çıktı temizlendi.\n\n💡 Yeni kod çalıştırmak için "Çalıştır" butonunu kullanın.';
            }
        }
        
        function loadExample(type) {
            const examples = {
                basic: `# Temel Python Örnekleri
print("🐍 Python'a Hoş Geldiniz!")

# Değişkenler
isim = "Ali"
yas = 25
pi = 3.14159

print(f"Merhaba {isim}, {yas} yaşındasın!")
print(f"Pi sayısı: {pi:.2f}")

# Matematiksel işlemler
a, b = 15, 4
print(f"{a} + {b} = {a + b}")
print(f"{a} - {b} = {a - b}")
print(f"{a} * {b} = {a * b}")
print(f"{a} / {b} = {a / b:.2f}")`,

                functions: `# Fonksiyon Örnekleri
def selamla(isim):
    return f"Merhaba {isim}! 👋"

def topla(x, y):
    return x + y

def asal_mi(sayi):
    if sayi < 2:
        return False
    for i in range(2, int(sayi ** 0.5) + 1):
        if sayi % i == 0:
            return False
    return True

# Fonksiyonları test et
print(selamla("Python"))
print(f"5 + 3 = {topla(5, 3)}")

# 1-20 arası asal sayılar
asallar = [i for i in range(1, 21) if asal_mi(i)]
print(f"1-20 arası asal sayılar: {asallar}")`,

                lists: `# Liste İşlemleri
# Farklı liste oluşturma yöntemleri
sayilar = [1, 2, 3, 4, 5]
isimler = ["Ali", "Ayşe", "Mehmet"]
karisik = [1, "Python", 3.14, True]

print(f"Sayılar: {sayilar}")
print(f"İsimler: {isimler}")
print(f"Karışık liste: {karisik}")

# Liste metodları
sayilar.append(6)
print(f"6 eklendikten sonra: {sayilar}")

# List comprehension
kareler = [x**2 for x in range(1, 6)]
print(f"1-5 arası sayıların kareleri: {kareler}")

# Liste filtreleme
cift_sayilar = [x for x in sayilar if x % 2 == 0]
print(f"Çift sayılar: {cift_sayilar}")`,

                loops: `# Döngü Örnekleri
print("=== FOR DÖNGÜSÜ ===")
# Basit for döngüsü
for i in range(5):
    print(f"Adım {i + 1}")

print("\\n=== LİSTE ÜZERİNDE DÖNGÜ ===")
meyveler = ["elma", "armut", "muz", "portakal"]
for meyve in meyveler:
    print(f"🍎 {meyve}")

print("\\n=== WHILE DÖNGÜSÜ ===")
sayac = 1
while sayac <= 5:
    print(f"Sayaç: {sayac}")
    sayac += 1

print("\\n=== İÇ İÇE DÖNGÜ ===")
for i in range(1, 4):
    for j in range(1, 4):
        print(f"{i}x{j}={i*j}", end="  ")
    print()  # Yeni satır`,

                classes: `# Sınıf (Class) Örnekleri
class Araba:
    def __init__(self, marka, model, yil):
        self.marka = marka
        self.model = model
        self.yil = yil
        self.hiz = 0
    
    def hizlan(self, artis):
        self.hiz += artis
        print(f"{self.marka} {self.model} hızlandı! Hız: {self.hiz} km/h")
    
    def fren_yap(self):
        self.hiz = 0
        print(f"{self.marka} {self.model} durdu.")
    
    def bilgi_ver(self):
        return f"{self.yil} {self.marka} {self.model}"

# Araba nesnesi oluştur
araba1 = Araba("Toyota", "Corolla", 2023)
print(f"Araba bilgisi: {araba1.bilgi_ver()}")

araba1.hizlan(50)
araba1.hizlan(30)
araba1.fren_yap()

# İkinci araba
araba2 = Araba("BMW", "320i", 2024)
print(f"İkinci araba: {araba2.bilgi_ver()}")
araba2.hizlan(80)`,

                data: `# Veri İşleme Örnekleri
# Öğrenci notları analizi
ogrenciler = {
    "Ali": [85, 92, 78, 96],
    "Ayşe": [90, 88, 94, 87],
    "Mehmet": [76, 82, 85, 79],
    "Fatma": [95, 91, 89, 93]
}

print("=== ÖĞRENCİ NOT ANALİZİ ===")
for isim, notlar in ogrenciler.items():
    ortalama = sum(notlar) / len(notlar)
    print(f"{isim}: {notlar} → Ortalama: {ortalama:.1f}")

# En yüksek ve en düşük ortalama
ortalamalar = {isim: sum(notlar)/len(notlar) for isim, notlar in ogrenciler.items()}
en_yuksek = max(ortalamalar, key=ortalamalar.get)
en_dusuk = min(ortalamalar, key=ortalamalar.get)

print(f"\\n🏆 En yüksek ortalama: {en_yuksek} ({ortalamalar[en_yuksek]:.1f})")
print(f"📚 En düşük ortalama: {en_dusuk} ({ortalamalar[en_dusuk]:.1f})")

# Sınıf ortalaması
tum_notlar = [not for notlar in ogrenciler.values() for not in notlar]
sinif_ortalamasi = sum(tum_notlar) / len(tum_notlar)
print(f"\\n📊 Sınıf ortalaması: {sinif_ortalamasi:.1f}")`
            };
            
            if (examples[type]) {
                if (!editor) {
                    document.getElementById('output').textContent = '⚠️ Editör henüz hazır değil. Lütfen bekleyin ve tekrar deneyin...';
                    return;
                }
                
                try {
                    editor.setValue(examples[type]);
                    document.getElementById('output').textContent = `📋 ${type.toUpperCase()} örneği yüklendi. "Çalıştır" butonuna tıklayın!`;
                } catch (error) {
                    document.getElementById('output').textContent = `❌ Örnek yüklenirken hata oluştu: ${error.message}`;
                }
            } else {
                document.getElementById('output').textContent = '❌ Geçersiz örnek türü!';
            }
        }

        // Kod kaydetme fonksiyonu
        function saveCode() {
            if (!editor) {
                document.getElementById('output').textContent = '⚠️ Editör henüz hazır değil. Lütfen bekleyin...';
                return;
            }
            
            const code = editor.getValue();
            if (!code.trim()) {
                document.getElementById('output').textContent = '⚠️ Kaydedilecek kod bulunamadı!';
                return;
            }
            
            const blob = new Blob([code], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'python_kodu.py';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            // LocalStorage'a da kaydet
            localStorage.setItem('python_editor_code', code);
            document.getElementById('output').textContent = '💾 Kod başarıyla kaydedildi!\n\n• Dosya: python_kodu.py olarak indirildi\n• Tarayıcı belleğine kaydedildi';
        }
        
        // Kod yükleme fonksiyonu
        function loadCode() {
            if (!editor) {
                document.getElementById('output').textContent = '⚠️ Editör henüz hazır değil. Lütfen bekleyin...';
                return;
            }
            
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.py,.txt';
            input.onchange = function(event) {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        try {
                            editor.setValue(e.target.result);
                            document.getElementById('output').textContent = `📁 Dosya yüklendi: ${file.name}\n\nKod editörüne aktarıldı. "Çalıştır" butonuna tıklayarak test edebilirsiniz.`;
                        } catch (error) {
                            document.getElementById('output').textContent = `❌ Dosya yüklenirken hata oluştu: ${error.message}`;
                        }
                    };
                    reader.readAsText(file);
                }
            };
            input.click();
        }
        
        // Sayfa yüklendiğinde kaydedilmiş kodu geri yükle
        function loadSavedCode() {
            const savedCode = localStorage.getItem('python_editor_code');
            if (savedCode) {
                const currentCode = editor.getValue();
                // Varsayılan kod ile aynı değilse kayıtlı kodu yükle
                if (!currentCode.includes('Merhaba Python Dünyası')) {
                    return;
                }
                if (confirm('Daha önce kaydedilmiş kod bulundu. Yüklemek ister misiniz?')) {
                    editor.setValue(savedCode);
                }
            }
        }
        
        // Gelişmiş hata yakalama
        function handlePythonError(error) {
            let errorMessage = error.toString();
            
            // Yaygın hataları Türkçe açıkla
            if (errorMessage.includes('SyntaxError')) {
                errorMessage += '\n\n💡 Syntax Hatası: Kod yazım kurallarında hata var. Parantez, iki nokta üst üste (:) veya girinti kontrolü yapın.';
            } else if (errorMessage.includes('NameError')) {
                errorMessage += '\n\n💡 İsim Hatası: Tanımlanmamış değişken kullanılıyor. Değişken ismini kontrol edin.';
            } else if (errorMessage.includes('IndentationError')) {
                errorMessage += '\n\n💡 Girinti Hatası: Python\'da girintiler önemlidir. Blokları 4 boşluk ile girintileyin.';
            } else if (errorMessage.includes('TypeError')) {
                errorMessage += '\n\n💡 Tip Hatası: Farklı veri tipleri arasında uyumsuz işlem yapılıyor.';
            }
            
            return errorMessage;
        }
        
        // Otomatik kod kaydetme (her 30 saniyede)
        setInterval(() => {
            if (editor) {
                const code = editor.getValue();
                if (code.trim()) {
                    localStorage.setItem('python_editor_auto_save', code);
                }
            }
        }, 30000);

        // Mobile navigation
        const navToggle = document.querySelector('.nav-toggle');
        const navMenu = document.querySelector('.nav-menu');

        if (navToggle) {
            navToggle.addEventListener('click', () => {
                navToggle.classList.toggle('active');
                navMenu.classList.toggle('active');
            });
        }
        
        // Editör hazır olduğunda otomatik yükleme kontrol et
        setTimeout(() => {
            if (editor) {
                loadSavedCode();
            }
        }, 2000);

        // Debug fonksiyonu - konsolda sistem durumunu kontrol eder
        function checkSystemStatus() {
            console.log('=== SİSTEM DURUMU ===');
            console.log('Editor hazır:', !!editor);
            console.log('Pyodide hazır:', !!pyodide);
            console.log('CodeMirror yüklü:', typeof CodeMirror !== 'undefined');
            
            if (editor) {
                console.log('Editor içeriği:', editor.getValue().substring(0, 50) + '...');
            }
            
            return {
                editor: !!editor,
                pyodide: !!pyodide,
                codemirror: typeof CodeMirror !== 'undefined'
            };
        }
        
        // Test buton fonksiyonu
        function testButtons() {
            console.log('🧪 Buton testleri başlatılıyor...');
            
            // Örnek buton testi
            try {
                loadExample('basic');
                console.log('✅ loadExample çalışıyor');
            } catch (error) {
                console.error('❌ loadExample hatası:', error);
            }
            
            // Clear test
            try {
                clearOutput();
                console.log('✅ clearOutput çalışıyor');
            } catch (error) {
                console.error('❌ clearOutput hatası:', error);
            }
        }
        
        // Global fonksiyonlar - debug için
        window.checkSystemStatus = checkSystemStatus;
        window.testButtons = testButtons;
    </script>
</body>
</html>